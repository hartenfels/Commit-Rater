\section{Methodology}
% The methodology section must give a very clear account of what sort of
% procedure was executed. Here are some detailed criteria:

Our methodology is divided into the three typical phases of a MSR research project:

% \begin{itemize}
% \item The section is preferably a step-by-step procedure overall. First we did
%   this. Then we did this.
% \item Steps should be motivated or defended, whenever it is not
%   obvious why a certain choice was made. However, one should be
%   careful not to preempt the discussion of threats to validity; see
%   the extra section below.
% \item The text should support reproducibility. In particular, a
%   reasonably knowledgeable person should be able to re-execute the
%   methodology and compare the results.
% \item The text should not get into low-level (implementation)
%   details. These can be deferred to separate documentation; see Appendix~\ref{S:details}.
% \end{itemize}

\begin{itemize}
  \item Data Extraction. Since we wanted to be able to compare arbitrary Git repositories, we decided to \texttt{git clone} repos directly, instead of accessing commits via a proprietary API like GitHub's.
  \item Data Synthesis. This includes checking commits against our criteria, which will be detailed below. The synthesized metrics are counts of met or unmet criteria grouped by the commit author email.
  \item Data Analysis. We use a set of repositories and analyse our synthesis results for interesting statistics and relations between criteria.
\end{itemize}


\subsection{Data Extraction}

% This metamodel is concerned with MSR papers. Thus, the methodology
% section would be reasonably subdivided into the three major phases of
% an MSR research project.
%
% The subsection on data extraction is concerned with issues like the
% following:
%
% \begin{itemize}
% \item What repository was chosen and why?
% \item What sort of extraction techniques is applied?
% \item What sort of extra processing (e.g., filtering) is applied?
% \item What constraints were chosen to help with scalability?
% \end{itemize}

% TODO: Describe extraction process
% TODO: Describe preprocessing and output
% TODO: Mention commit-limit
% TODO: Introduce example repos


\subsection{Data Synthesis}

% Even the simplest MSR project carries out synthesis; data analysis (see
% below) may not be carried out in all the cases. The subsection on data
% synthesis is concerned with issues like the following:
%
% \begin{itemize}
%
% \item What metrics are used?
%
% \item What machine learning techniques are used?
%
% \item What information retrieval techniques are used?
%
% \end{itemize}
%
% The typical MSR paper picks either metrics or machine learning or IR.

% TODO: Put special focus on those Natural Language Processing
% TODO: Maybe mention, that our synthesis contains actions that may have belonged into extraction, but we found the terms more fitting to our implementation

Each commit of an author is testet against the criteria below. While most tests either \emph{fail} or \emph{pass}, some criteria may not be appliccable in certain situations, e.g. a commit message's body cannot be tested for a per-line character limit, if there is no body at all. In those cases, the criterion-test will count as \emph{undefined}.

The results of our tests are counted in a triple $(pass, fail, undef)$ for each criterion for each author. This triples will be used as a metric for the analysis in \ref{sub:analysis}.

Almost all of the criteria below relate to the commit message. Only one of them states a very superficial rule about the changes in the commit. None of them process the code itself, neither inside the changes nor in the the code-base before or after applying the commit, as such criteria would require very language-specific knowledge that would have to be manually implemented for each desired language. By keeping our criteria language-independent, they remain appliccable to all Git Repositories.

In general, commit messages should consist of a subject line and a body \cite{OffGuide}. \cite{CB} summarizes the most important guidelines very nicely, and the first seven criteria below are directly taken or inspired from the blog post. Note that the seventh mentioned rule could not be made into a criterion, since it would require actual understanding of the commit message. Omitting this rule, we still infered one additional criterium (\ref{subs:body_used}).

The remaining 6 criteria have been chosen by the authors. Since there are no other sources to back our claim that failing to meet them makes a commit ``worse'', we will explain our reasoning behind the choices. Additionally, our criteria can be proven as valid, if there is a correlation between them and the criteria taken from credible sources. %TODO: THIS IS A WILD FUCKING GUESS AND WE BETTER FINALLY USE WEKA AND GET SOME RESULTS

% TODO: List all criteria with details

\subsubsection{subject_limit}
\label{subs:subject_limit}
The subject line, i.e. the first line of a commit message, should be limited to 50 characters. This rule seems to have originated from a blog post by Tim Pope \cite{TP}, which is referenced by the Git manual \cite{OffGuide}. The reasoning behind it is, that the subject line is used by various tools and user interfaces to describe a commit in limited space.

Additionally, large subject lines might hint at having done more than one thing in a commit, since the author needs more space to explain what the commit does. Logically separating changesets is another rule from \cite{OffGuide}, which of course cannot be evaluated without much language-specific effort.

\subsubsection{capitalize_subject}
\label{subs:capitalize_subject}

\subsubsection{no_period_subject}
\label{subs:no_period_subject}

\subsubsection{imperative_subject}
\label{subs:imperative_subject}

\subsubsection{body_used}
\label{subs:body_used}

\subsubsection{body_limit}
\label{subs:body_limit}

\subsubsection{empty_second_line}
\label{subs:empty_second_line}

\subsubsection{no_short_message}
\label{subs:no_short_message}

\subsubsection{no_long_message}
\label{subs:no_long_message}

\subsubsection{no_bulk_change}
\label{subs:no_bulk_change}

\subsubsection{no_vulgarity}
\label{subs:no_vulgarity}

\subsubsection{no_misspelling}
\label{subs:no_misspelling}

\subsubsection{no_duplicate}
\label{subs:no_duplicate}


\subsection{Data Analysis}
\label{sub:analysis}

% Data analysis would be concerned with any sort of statistical quality
% analysis of the data. More specifically, the subsection on data
% analysis is concerned with issues like the following:
%
% \begin{itemize}
%
% \item Simple statistics like median of metrics.
%
% \item Analysis of regression or correlation or distribution.
%
% \item Analysis of accuracy such as precision and recall.
%
% \end{itemize}
%
% It should be noted that the methodology section describes the `how'
% (and to some extent the`why'), but it does not yet report the various
% results; see the following section. For instance, the methodology may
% explain why it is using a certain metric and define it and announce
% that the median for the metric is going to be determined, as it would
% provide a certain insight, but the actual tables or charts for the
% metric and the interpretation of the findings would be deferred to the
% results section.

% TODO: Decide on analysis tools
% * Weka
% * Some Boxplots including averages for all metrics
% TODO: Introduce the analysis tools we used
